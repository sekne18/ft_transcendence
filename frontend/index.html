<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="src/style.css">
  <title>ft_transcendence</title>
</head>

<body class="dark text-foreground bg-background min-h-screen h-screen flex flex-col">
  <div id="error-page" class="w-screen h-screen z-[100] hidden fixed top-0 left-0">
    <!-- contains error page that has a fillable status code and message-->
    <div class="h-full w-full">
      <div
        class="bg-white dark:bg-gray-800 p-8 rounded-lg shadow-lg text-center w-full h-full flex flex-col items-center justify-center">
        <h1 id="error-code" class="text-4xl font-bold mb-4">404</h1>
        <p id="error-message" class="text-gray-600 dark:text-gray-300">Page not found</p>
      </div>
    </div>
  </div>
  <!-- 786px and up navbar -->
  <nav class="md:flex hidden items-center justify-between bg-[var(--navbar)] px-4 py-4 shadow-sm">
    <div class="flex items-center">
      <a href="/" class="ml-4 text-xl font-semibold text-white hover:text-blue-500" data-i18n="nav_title"></a>
    </div>
    <div class="flex space-x-4">
      <a href="/game" class="nav-link px-3 py-2 text-white hover:text-blue-500 rounded" data-i18n="nav_game"
        data-page="game"></a>
      <a href="/leaderboard" class="nav-link px-3 py-2 text-white hover:text-blue-500 rounded"
        data-i18n="nav_leaderboard" data-page="leaderboard"></a>
      <a href="/tournament" class="nav-link px-3 py-2 text-white hover:text-blue-500 rounded" data-i18n="nav_tournament"
        data-page="tournament"></a>
      <a href="/friends" class="nav-link px-3 py-2 text-white hover:text-blue-500 rounded" data-i18n="nav_friends"
        data-page="friends"></a>
    </div>

    <div class="flex flex-row">
      <div class="relative content-center mr-5">
        <svg id="langDropdownButton" class="hover:scale-110" enable-background="new 0 0 50 50" id="Layer_1"
          version="1.1" viewBox="0 0 50 50" width="1.5rem" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink">
          <rect fill="none" height="50" width="50" />
          <circle cx="25" cy="25" fill="none" r="24" stroke="#fff" stroke-linecap="round" stroke-miterlimit="10"
            stroke-width="2" />
          <ellipse cx="25" cy="25" fill="none" rx="12" ry="24" stroke="#fff" stroke-linecap="round"
            stroke-miterlimit="10" stroke-width="2" />
          <path d="M6.365,40.438C10.766,37.729,17.479,36,25,36  c7.418,0,14.049,1.682,18.451,4.325" fill="none"
            stroke="#fff" stroke-miterlimit="10" stroke-width="2" />
          <path d="M43.635,9.563C39.234,12.271,32.521,14,25,14  c-7.417,0-14.049-1.682-18.451-4.325" fill="none"
            stroke="#fff" stroke-miterlimit="10" stroke-width="2" />
          <line fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="2" x1="1" x2="49" y1="25" y2="25" />
          <line fill="none" stroke="#fff" stroke-miterlimit="10" stroke-width="2" x1="25" x2="25" y1="1" y2="49" />
        </svg>
        <ul id="langDropdownMenu"
          class="absolute right-0 mt-2 hidden w-32s bg-white rounded shadow-lg z-10 text-sm text-gray-800">
          <li><button data-lang="en"
              class=" px-4 py-2 hover:border-blue-600 border-transparent mt-1 mx-1 pr-11 border-2 text-gray-700 rounded-lg hover:bg-gray-300 text-left">English</button>
          </li>
          <li><button data-lang="nl"
              class=" px-4 py-2 hover:border-blue-600 border-transparent border-2 mx-1 text-gray-700 rounded-lg hover:bg-gray-300 text-left">Nederlands</button>
          </li>
          <li><button data-lang="sl"
              class=" px-4 py-2 hover:border-blue-600 border-transparent mb-1 border-2 mx-1 text-gray-700 rounded-lg hover:bg-gray-300 text-left">Sloven≈°ƒçina</button>
          </li>
          <li><button data-lang="ua"
              class=" px-4 py-2 hover:border-blue-600 border-transparent mb-1 border-2 mx-1 text-gray-700 rounded-lg hover:bg-gray-300 text-left">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</button>
          </li>
        </ul>
      </div>
      <div class="relative inline-block text-left" id="user-dropdown">
        <img src="/uploads/avatars/default.png" alt="User Avatar" id="user-avatar"
          onerror="this.onerror=null; this.src='/uploads/avatars/default.png'"
          class="w-12 h-12 rounded-full hover:border-3 hover:border-blue-500 border-2 border-[#33335f] cursor-pointer" />

        <!-- Dropdown Menu -->
        <div id="dropdown-menu" class="hidden absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-lg z-50">
          <a href="/profile" data-i18n="nav_profile"
            class="hover:border-blue-600 border-transparent border-2 mt-1 mx-1 rounded-lg flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-300 gap-2">
            <i class="lucide lucide-user"></i> Profile
          </a>
          <a href="/profile" data-i18n="nav_my_stats"
            class="hover:border-blue-600 flex items-center px-4 py-2 rounded-lg border-transparent border-2 text-sm mx-1 text-gray-700 hover:bg-gray-300 gap-2">
            <i class="lucide lucide-bar-chart-2"></i> My Stats
          </a>
          <a id="logout-btn" data-i18n="nav_logout"
            class="hover:border-blue-600 cursor-pointer hover:text-black flex items-center px-4 py-2 rounded-lg mb-1 border-transparent border-2 text-sm mx-1 text-red-600 hover:bg-[#f31260] gap-2">
            <i class="lucide lucide-settings"></i> Logout
          </a>
        </div>
      </div>
    </div>
  </nav>
  <!-- Mobile Nav -->
  <nav class="md:hidden flex items-center justify-between bg-[var(--navbar)] px-4 py-4 shadow-sm">
    <a href="/" class="text-xl font-semibold text-white" data-i18n="nav_title"></a>
    <button id="mobile-menu-button" class="text-white focus:outline-none">
      <!-- Hamburger Icon -->
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>
  </nav>

  <!-- Mobile Menu -->
  <div id="mobile-menu" class="md:hidden hidden flex-col bg-[var(--navbar)] text-white px-4 py-2 space-y-2 shadow-sm">
    <a href="/game" class="nav-link block py-2 px-3 rounded hover:text-blue-500" data-i18n="nav_game"></a>
    <a href="/leaderboard" class="nav-link block py-2 px-3 rounded hover:text-blue-500" data-i18n="nav_leaderboard"></a>
    <a href="/tournament" class="nav-link block py-2 px-3 rounded hover:text-blue-500" data-i18n="nav_tournament"></a>
    <a href="/friends" class="nav-link block py-2 px-3 rounded hover:text-blue-500" data-i18n="nav_friends"></a>
    <a href="/profile" class="block py-2 px-3 rounded hover:text-blue-500" data-i18n="nav_profile"></a>
    <a href="#" id="logout-btn-mobile" class="block py-2 px-3 rounded text-red-400 hover:text-red-600"
      data-i18n="nav_logout"></a>
  </div>
  <div id="toast-container" class="fixed top-4 right-4 z-[110] flex flex-col items-end space-y-2">
  </div>
  <main id="app" class="flex-grow flex p-4">

  </main>
  <!-- Chat Widget -->
  <div id="chat-container" class="fixed bottom-4 left-4 flex items-end space-x-2 z-50">

    <!-- Chat Icon Button -->
    <button id="chat-toggle"
      class="w-12 h-12 rounded-full bg-blue-600 text-black flex items-center justify-center shadow-lg hover:bg-blue-700 invisible">
      üí¨
      <!-- Notification badge -->
      <span id="chat-badge"
        class="absolute top-0 right-0 transform translate-x-1/2 -translate-y-1/2 bg-red-600 text-white text-xs font-bold px-1.5 py-0.5 rounded-full hidden">
        0
      </span>
    </button>

    <!-- Chat Window -->
    <div id="chat-window"
      class="text-white absolute bottom-16 left-0 w-0 h-0 overflow-hidden bg-[#1E1E2A] rounded-xl shadow-lg flex scale-0 origin-bottom-left">
      <!-- Chat List -->
      <div id="chat-list" class="w-32 h-full overflow-y-auto border-r border-gray-600 p-2 bg-[#1E1E2A]">
        <div class="font-bold mb-2" data-i18n="chat_title">Chats</div>
        <ul id="chat-items" class="space-y-2">
        </ul>
      </div>

      <!-- Message Area (includes messages and input) -->
      <div class="flex flex-col w-full h-[300px] bg-[#1E1E2A]">

        <!-- Message View -->
        <div id="message-container" class="flex-1 flex-col p-4 overflow-y-auto space-y-2">
        </div>

        <!-- Input Bar (attached) -->
        <div class="border-t border-gray-600 p-2">
          <input id="chat-input" type="text" data-i18n="chat_placeholder" placeholder="Type a message..."
            class="w-full h-10 rounded-lg px-4 bg-gray-700 text-sm text-white border border-gray-600 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-400" />
        </div>
      </div>
    </div>
  </div>
  <script type="module" src="./main.ts"></script>
</body>

</html>